## 范数使用

### 向量范数

在机器学习中，我们经常使用被称为范数的函数去衡量向量大小。

$$\Large ||x||_p=(\sum_i|x|^p)^{\frac{1}{p}}$$

严格来说，范数是满足下列性质的任一函数：

- $f(x)=0 \Rightarrow x=0$
- $f(x+y)\leq f(x)+f(y)$
- $\forall \alpha \in \mathbb{R},f(\alpha x)=|\alpha|f(x)$

当p = 2 时，L2 被称为欧几里得范数(Euclidean norm)。它表示从原点出发到
向量x 确定的点的欧几里得距离。L2 范数十分频繁地出现在机器学习中，经常简化
表示为∥x∥，略去了下标2。平方L2 范数也经常用来衡量向量的大小，可以简单地
通过点积$x^Tx$ 计算。

平方L2 范数在数学和计算上都比L2 范数本身更方便。例如，平方L2 范数对
x 中每个元素的导数只取决于对应的元素，而L2 范数对每个元素的导数却和整个向
量相关。但是在很多情况下，平方L2 范数也可能不受欢迎，因为它在原点附近增长
得十分缓慢。在某些机器学习应用中，区分元素值恰好是零还是非零小值是很重要
的。在这些情况下，我们更倾向于使用在各个位置斜率相同，同时保持简单的数学
形式的函数：L1 范数。L1 范数可以简化如下：

$$\Large ||x||_1= \sum_i|x_i|$$

其他常用的范数还有：

$L^0$范数：

$$\Large ||x||_0=\sum_i|x\neq0|$$

有时我们会统计向量中非零元素的个数，有些作者将其称为$L^0$范数。但这个术语在数学意义上是不对的，一个向量的非零元素个数不是范数，因为其不符合上面的范数性质三，将其放缩$\alpha$倍，不会改变非零元素的数目。常用$L^1$范数作为$L^0$范数的替代。

$L^\infty$范数：

$$\Large ||x||_\infty=\max_i|x_i|$$

$L^\infty$又称max范数，这个范数表示向量中具有最大幅度的元素的绝对值。

$L^{-\infty}$范数：

$$\Large ||x||_{-\infty}=\min_i|x_i|$$

即所有向量元素绝对值中的最小值，matlab调用函数norm(x, -inf)

$L^{Frobenius}$范数：

$$\Large ||A||_F=\sqrt{\sum_{i,j}A_{i,j}^2}$$

类似于$L^2$范数，用来衡量矩阵的大小。

### 矩阵范数

1-范数：
$$\Large ||A||_1= max_j\sum^m_{i=1}|a_{i,j}|$$

 列和范数，即所有矩阵列向量绝对值之和的最大值。

2-范数：$$||A||_2 = \sqrt{\lambda_1}$$,$$\lambda_1$$为$$A^TA$$的最大特征值。

谱范数，即A'A矩阵的最大特征值的开平方。

$$\infty$$-范数：$$||A||_\infty = \max_i\sum_{j=1}^N|a_{i,j}|$$

，行和范数，即所有矩阵行向量绝对值之和的最大值。

F-范数：$$||A||_F=\left(\sum^m_{i=1}\sum^m_{j=1}|a_{i,j}|^2\right)^{\frac{1}{2}}$$

，Frobenius范数，即矩阵元素绝对值的平方和再开平方,numpy.linalg.norm(A,ord='fro')

核范数(nuclear norm)：$$||A||_* = \sum_{i=1}^{n}\lambda_i, \lambda_i$$是A的奇异值。

即奇异值之和，numpy.linalg.norm(A,ord='nuc')

### $L^1$和$L^2$正则使用

$L^1$和$L^2$正则就是在优化函数时增加一个正则项，利用正则来对解的结果来进行约束。

例如在简单的线性回归中，针对数据集D={(x1,y1),(x2,y2),(x3,y3),...,(xm,ym)},可以得出优化目标为：

$$\Large \min_w\sum_{i=1}^m(y_i-w^Tx_i)^2$$

此时得到的解$\Large w$是随机的，导致结果的稳定性较差。

而当我们加了正则项（此处的正则项可以是L1范数，可以是平方L2范数或者其他范数）：

$$\Large \min_w(\sum_{i=1}^m(y_i-w^Tx_i)^2+\lambda||w||_1)$$

这时的优化函数就增加了约束，不光需要满足可行解，还需要满足特定的分布形态。

当使用L1范数会制造稀疏的特征，大部分用处不大的特征权重会变为0，突出作用明显的特征的权重。

当使用L2范数会使得特征的权重都相对平均。

![l1和l2正则](.\pictures\l1和l2正则.png)

此图是L1和L2范数的等值线，表明在范数值一样时，两者元素的值的差异。