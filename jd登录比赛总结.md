## jd登录比赛总结

### 个人方面

京东的比赛结束了，成绩不是很理想。主要原因还是因为个人懒惰导致比赛时间不足，很多想法没有去尝试就结束了比赛。

对于以后的比赛，务必要做到以下几点：

1. 对于赛题要快速做出一个baseline。通过发现不足，理解赛题来快速迭代。
2. 做好模型的线下验证集，一个准确的线下验证集是后期快速迭代的基础保障。线下验证集要通过最初的baseline利用前期的测试机会进行试验，尽早得出。
3. 控制好周末时间，周末用好了等于一周的晚上时间。不要轻易开启放松的开端。
4. 对于赛程的后半段要警惕不要松懈，行百里者半九十。很多时候不是大家做不出更好地结果，而是放弃继续尝试新的方法。

### 特征构建



#### 设备特征

交易的登陆信息取最近一次登陆成功的登陆日志。时间段的选取估计是通过测试数据集得到。

1. 设备登陆天数。当前用户登陆设备天数。（同一天多次登陆算一次）

   没有区分登陆成功和登陆失败。可以通过Jaccard来得到该设备和该id的关联关系。

   时间段：前十天，一个月，两个月

2. 设备历史上登陆过的不同id数量。（同一id多次登陆算一个id）

   时间段：整个数据集，最近一个月，10天，3天，1天，6小时，3小时，1小时，30分钟，5分钟。

3. 设备历史上登陆过的不同ip数量。（同一ip多次登陆算一个ip）

   时间段：整个数据集，最近一个月，10天，3天，1天，6小时，3小时，1小时，30分钟，5分钟。

4. 设备历史上各类log_from的次数。

   时间段：整个数据集，最近一个月，10天，3天，1天，6小时，3小时，1小时，30分钟，5分钟。

   log_from：1,2,10,16。为关联trade后log_from最多的四个来源。

5. 设备历史上登陆次数。

   时间段：整个数据集，最近一个月，10天，3天，1天，6小时，3小时，1小时，30分钟，5分钟。

6. 设备历史上的不同登陆结果的次数。

   时间段：整个数据集，最近一个月，10天，3天，1天，6小时，3小时，1小时，30分钟，5分钟。

   result：1,31，-1,-2。为log中result最多的四个结果。

7. 设备历史上不同登陆类型的次数。

   时间段：整个数据集，最近一个月，10天，3天，1天，6小时，3小时，1小时，30分钟，5分钟。

   type：1,2,3.为type中的全部类型。

#### id特征

将is_scan和is_sec转换为0,1类型。timelong单位为毫秒，为进入页面到登录成功的时间。只取timelong为0到300000的登陆数据。对于未在login中出现过的id不进行训练和预测，默认为安全。

1. 基本特征：最近一次登录是否扫码登录（is_scan），登录类型（login_type），登录来源（login_from），是否登录成功（result）

2. 计数特征：登录次数，交易登录设备使用次数，交易登录来源使用次数，交易ip使用次数，交易城市使用次数，交易登录类型使用次数，交易次数，登录失败次数，登录成功次数，登录持续时间是10的倍数的次数，登录城市类别个数，登录扫码次数。

   时间维度（以交易当天为0，往前依次递增）：0天，1-3天，4-30天。

   交易次数额外多统计了交易前一个小时内的交易次数。

3. 统计特征：登录持续时间（timelong）与最近一个月登录持续时间（timelong）中位数的差的绝对值，最近三次登录时间间隔的平均值（单位为秒），最近三次登录时间间隔的标准差（单位为秒），最近三次的最大登录持续时间（timelong），最近三次的最大最小登录持续时间的差。

4. 比例特征：登录设备使用占比，登录来源（log_from）使用占比，登录ip使用占比，登录城市（city）使用占比，登录类型（type）出现占比，登录持续时间是10的整数倍的占比，扫码登录所占比例。

   时间维度（以交易当天为0，往前依次递增）：0天，1-3天，4-30天。

5. 类别特征：上次登录是否异地，最后一次登录是否成功，最后两次登陆的设备是否一样，最后两次登陆的ip是否一样，最后两次登录类型是否一致，最近一次成功登录是否为扫码登录，登陆设备是否为常用设备（devices），是否是常用登录来源（log_from），是否常用ip，是否是常用登录城市，是否是常用登录类型，登录设备以前是否出现过，登录来源以前是否出现过，登录ip以前是否出现过，登录城市以前是否出现过，登录类型以前是否出现过，登录持续时间是否是10的倍数，本次登录ip是否出现过危险，上次登录的ip是否出现过危险，是否是第一次交易，与上一次交易是否发生在5秒内，倒数第二次与倒数第三次交易是否发生在5秒内，以前是否发生过危险交易。

#### ip特征

1. ip登陆天数。当前用户登陆ip天数。（同一天多次登陆算一次）

   没有区分登陆成功和登陆失败。可以通过Jaccard来得到该设备和该id的关联关系。

   时间段：前十天，一个月，两个月

2. ip历史上登陆过的不同id数量。（同一id多次登陆算一个id）

   时间段：整个数据集，最近一个月，10天，3天，1天，6小时，3小时，1小时，30分钟，5分钟。

3. ip历史上登陆过的不同设备数量。（同一ip多次登陆算一个ip）

   时间段：整个数据集，最近一个月，10天，3天，1天，6小时，3小时，1小时，30分钟，5分钟。

4. ip历史上各类log_from的次数。

   时间段：整个数据集，最近一个月，10天，3天，1天，6小时，3小时，1小时，30分钟，5分钟。

   log_from：1,2,10,16。为关联trade后log_from最多的四个来源。

5. ip历史上登陆次数。

   时间段：整个数据集，最近一个月，10天，3天，1天，6小时，3小时，1小时，30分钟，5分钟。

6. ip历史上的不同登陆结果的次数。

   时间段：整个数据集，最近一个月，10天，3天，1天，6小时，3小时，1小时，30分钟，5分钟。

   result：1,31，-1,-2。为log中result最多的四个结果。

7. ip历史上不同登陆类型的次数。

   时间段：整个数据集，最近一个月，10天，3天，1天，6小时，3小时，1小时，30分钟，5分钟。

   type：1,2,3.为type中的全部类型。